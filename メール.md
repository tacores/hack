# メール

TARGET上のSMTPポートが開いており、かつTARGET上のDNS設定を追加できるとき、

1. `A` レコードにドメイン名とIPの対応を追加
2. `MX` レコードの値に追加したドメイン名を設定

することで、メール送信に対して自動的に返信が来るかをテストすることができる。

## SMTPサーバー

https://pypi.org/project/aiosmtpd/

```sh
# 返信メールを待つ
aiosmtpd -n -l 192.168.129.39:25
```

## swaks

https://github.com/jetmore/swaks

kali にプリインストールされている。

```sh
# 複数のアドレスにテストメールを送る
swaks --to sir.carrotbane@hopaitech.thm,shadow.whiskers@hopaitech.thm,obsidian.fluff@hopaitech.thm,nyx.nibbles@hopaitech.thm,midnight.hop@hopaitech.thm,crimson.ears@hopaitech.thm,violet.thumper@hopaitech.thm,grim.bounce@hopaitech.thm --from kali@malmail --server hopaitech.thm \
--header "Subject: Info please" \
--body "Respond to me por favor"
```
