# 環境インストール関係

## リスト

- openjdk（ダウンロード、展開）
- ghidra（ダウンロード、展開）
- SecLists（github clone）
- pwn（コマンド名を打つだけ）
- pwndbg（github clone, setup.sh）
- okteta（コマンド名を打つだけ）
- rustscan（.md 参照）
- thunderbird（コマンド名を打つだけ。時間かかるのでスナップショットをとる前に）

## VirtualBox

```shell
apt update
#apt upgrade
#apt install linux-headers-$(uname -r)
#reboot

# その後にAdditionを実行してreboot
```

```sh
# クリップボードが機能しない場合に実行
pkill -f 'VBoxClient --clipboard'
/usr/bin/VBoxClient --clipboard

# 永続化エイリアス
echo "alias resetclip=\"pkill -f 'VBoxClient --clipboard'; /usr/bin/VBoxClient --clipboard\"" >> ~/.zshrc
source ~/.zshrc
```

## vmware

```sh
$ sudo /usr/bin/vmhgfs-fuse .host:/ /mnt/hgfs -o subtype=vmhgfs-fuse,allow_other

```

## VPN

VPNのIPアドレスをパネル表示するのに使われているスクリプト

```
/usr/share/kali-themes/xfce4-panel-genmon-vpnip.sh
```

## SecLists

```shell
apt -y install seclists
head /usr/share/wordlists/seclists/Usernames/Names/names.txt
```

## impacket

kali にデフォルトでインストールされており、impacket-<cmd> の形で実行できる。

実行時にインポートエラーが出る場合は、venv を使っているか確認。

```sh
source ./venv/bin/activate
git clone https://github.com/SecureAuthCorp/impacket.git /home/kali/tools/impacket
pip3 install -r /home/kali/tools/impacket/requirements.txt
cd /home/kali/tools/impacket/ && python3 ./setup.py install
```

## Remmina

```sh
sudo apt install remmina
```

## venv

```shell
# install
sudo apt-get install python3-all-dev python3-venv
python3 -m venv myenv
```

```shell
source myenv/bin/activate
```

## python2

```sh
curl -O https://bootstrap.pypa.io/pip/2.7/get-pip.py

sudo python2 get-pip.py
```

## bloodhound

```sh
apt install bloodhound neo4j
```

## Java

```shell
# リストからバージョンを選べる
sudo update-alternatives --config java
```

## Firefox プラグイン

- FoxyProxy
- Simple Modify Headers

## docker

```sh
sudo apt install docker-cli
sudo apt install docker.io
```

## SmartContract

```sh
# インストール
curl -L https://foundry.paradigm.xyz | bash
foundryup
```

cast コマンドを実行できるようになる。

```sh
cast call $CONTRACT_ADDRESS "getAddress()(address)" --rpc-url ${RPC_URL}

cast send $CONTRACT_ADDRESS "withdraw()()" --rpc-url ${RPC_URL} --private-key ${PRIVATE_KEY} --from ${MYADDR} --legacy
```

## one_gadget

```sh
gem install one_gadget
```

## ZAP

```sh
sudo apt install zaproxy

pip install zaproxy
```

## RUST

```sh
curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh
```

## Git

### GitTools

https://github.com/internetwache/GitTools

```sh
cd ~/tools
git clone https://github.com/internetwache/GitTools.git

```

## pyinstaller 逆コンパイル

### pyinstxtractor

https://github.com/extremecoders-re/pyinstxtractor

実行ファイルから pyc を抽出

```sh
python ./extract.py decoded_client
```

### uncompyle6


python のバージョンと逆コンパイルするバイナリのバージョンがあっていない場合、次のようなエラーが出ることがある。

```sh
NameError: name 'opcode_38' is not defined
```

workdir内のファイルを含む形でコンテナを実行。  
（uncompile6を直接環境にインストールして正常に動作する場合は必要ない）


```sh
sudo docker run -it --rm -v $PWD:/workdir python:3.6.8 /bin/bash
```

```sh
pip install --upgrade pip
pip install uncompyle6
uncompyle6 ./client.pyc
```

### pycdc

https://github.com/zrax/pycdc

```sh
cmake .
make
```

## Android

https://www.genymotion.com/product-desktop/download/

```sh
chmod +x ./genymotion-3.9.0-linux_x64.run
./genymotion-3.9.0-linux_x64.run -d ~/tools
```

## ImmunityDebugger

https://github.com/kbandla/ImmunityDebugger

https://github.com/corelan/mona

1. ImmunityDebugger インストーラ実行
2. インストーラの最後でPython2.7がインストールされる
3. `C:\Program Files (x86)\Immunity Inc\Immunity Debugger\PyCommands` の中に `mona.py` をダウンロード

## Zimmerman

インストール先のディレクトリ(toolsなど)にps1をダウンロードして、

```ps
PowerShell -ExecutionPolicy Bypass .\Get-ZimmermanTools.ps1
```

## pypykatz

```sh
pip3 install pypykatz
```

## outguess

https://github.com/resurrecting-open-source-projects/outguess

```sh
sudo apt install autoconf
```

```sh
./autogen.sh
./configure --with-generic-jconfig
make
sudo make install
```

## repiet

```sh
git clone https://github.com/boothby/repiet
cd repiet
sudo python setup.py install
```

## Nim

https://github.com/Sn1r/Nim-Reverse-Shell

```sh
sudo apt install mingw-w64
sudo apt install nim
```

## MQTT

### MQTTX

GUIがある。MQTTプロトコルのバージョンを指定できる。

https://mqttx.app/ja/downloads?os=linux

## smtp

```sh
$ sudo apt install python3-aiosmtpd 

$ sudo python3 -m aiosmtpd --debug --listen 0.0.0.0:25       
INFO:mail.log:Server is listening on 0.0.0.0:25
```
